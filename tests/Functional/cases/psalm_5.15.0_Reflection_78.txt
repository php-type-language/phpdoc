/**
 * @param callable-string|Closure $function
 *
 * @psalm-pure
 */